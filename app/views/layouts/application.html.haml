%head
  %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
  %title RedMagic
  %meta{:content => "width=device-width,initial-scale=1", :name => "viewport"}/
  = action_cable_meta_tag
  = csrf_meta_tags
  = csp_meta_tag
  %script{ src: "https://cdn.tailwindcss.com" }
  = stylesheet_link_tag "application", "data-turbo-track": "reload"
  = javascript_importmap_tags
%body
  %nav.bg-red-500.py-4.px-8.flex.justify-between.items-center
    .flex
      .text-xl.text-white.font-bold
        RED MAGIC
      %ul.flex.items-center.space-x-4
        %li
          = link_to 'Podcasts', podcasts_path, class: "text-white hover:bg-red-300 px-4 py-2 rounded"
    %ul.flex.items-center.space-x-4
      -# FIXME Sign out button makes navbar wider because of form
      - if current_user.present?
        %li
          %form.sign-out-form{:action => destroy_user_session_path, :method => "post"}
            = hidden_field_tag :_method, :delete
            = submit_tag 'Sign out', class: tailwind_navbar_button_style
      - else
        %li
          = link_to 'Sign in', new_user_session_path, class: tailwind_navbar_button_style
  .container.mx-auto.p-4
    = yield
